webpackJsonp([24],{"yKA+":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("0+Q0"),a=o("Q/W4"),s=o("uiKT"),l=o("BSzM"),n=o("oast"),u=o("vP6+"),i=o("KiN3"),c=o("ryJa"),d=o.n(c),h=(s.a,n.a,l.a,r.a,a.a,u.a,i.a,{directives:{TransferDom:s.a},components:{XButton:n.a,XTextarea:l.a,Cell:r.a,Group:a.a,FormPreview:u.a,XInput:i.a},data:function(){return{course:{COURSE_CONTENT:"",COURSE_PERFORMANCE:"",HMPROBLEM:"",PROPOSAL:""},homework:"",homework_info:[],HomeworkID:"",total:0,edit:!1}},created:function(){this.getlist()},methods:{getlist:function(){var e=this;this.$http.get("http://139.199.168.158:8080/admin/coursecheck?eventid="+this.$route.query.value1).then(function(t){1==t.data.code?(console.log("获取课程信息成功"),e.course=t.data.data[0],e.content=t.data.data[0].COURSE_CONTENT):console.log("获取课程信息失败")}),this.$http.get("http://139.199.168.158:8080/admin/eventhomework?eventid="+this.$route.query.value1).then(function(t){if(t=t.data,1===t.code){e.homework=t.data;for(var o=0;o<e.homework.length;o++)e.homework[o].SUBMISSION_DATE=d()(e.homework[o].SUBMISSION_DATE).format("YYYY-MM-DD"),e.homework_info.push([{label:"布置时间：",value:d()(e.homework[o].ARRANGEMENT_DATE).format("YYYY-MM-DD   HH:mm:ss")},{label:"规定提交时间：",value:d()(e.homework[o].ARRANGEMENT_DATE).format("YYYY-MM-DD   HH:mm:ss")},{label:"作业内容：",value:e.homework[o].CONTENT},{label:"作业目标：",value:e.homework[o].OBJECTIVE},{label:"规定用时：",value:e.homework[o].USE_TIME}]);var r=String.fromCharCode(e.homework.length+65);e.HomeworkID=e.course.STUDENT_NAME+"-"+e.course.SUBJECT_NAME+"-"+e.$route.query.value2.substr(0,e.$route.query.value2.length-1)+"-"+r,console.log("获取作业信息成功")}else console.log("获取作业信息失败")})},update:function(){var e=this;this.$http.post("http://139.199.168.158:8080/admin/coursefeedbackpost",{eventid:this.$route.query.value1,CourseContent:this.course.COURSE_CONTENT,CoursePerformance:this.course.COURSE_PERFORMANCE,HMProblem:this.course.HMPROBLEM,Proposal:this.course.PROPOSAL}).then(function(t){t=t.data,1===t.code?(console.log("提交授课反馈成功"),e.edit=!1):console.log("提交授课反馈失败")})},arrange:function(){this.$router.push({path:"/homework-arrange",query:{HomeworkID:this.HomeworkID,course:this.course}})}}}),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("group",{attrs:{title:"授课反馈"}},[o("cell",{attrs:{title:"授课内容"}}),e._v(" "),o("x-textarea",{attrs:{max:100,placeholder:"请输入",disabled:!e.edit},model:{value:e.course.COURSE_CONTENT,callback:function(t){e.$set(e.course,"COURSE_CONTENT",t)},expression:"course.COURSE_CONTENT"}}),e._v(" "),o("cell",{attrs:{title:"课堂表现"}}),e._v(" "),o("x-textarea",{attrs:{max:100,placeholder:"请输入",disabled:!e.edit},model:{value:e.course.COURSE_PERFORMANCE,callback:function(t){e.$set(e.course,"COURSE_PERFORMANCE",t)},expression:"course.COURSE_PERFORMANCE"}}),e._v(" "),o("cell",{attrs:{title:"上次作业问题"}}),e._v(" "),o("x-textarea",{attrs:{max:100,placeholder:"请输入",disabled:!e.edit},model:{value:e.course.HMPROBLEM,callback:function(t){e.$set(e.course,"HMPROBLEM",t)},expression:"course.HMPROBLEM"}}),e._v(" "),o("cell",{attrs:{title:"提升建议"}}),e._v(" "),o("x-textarea",{attrs:{max:100,placeholder:"请输入",disabled:!e.edit},model:{value:e.course.PROPOSAL,callback:function(t){e.$set(e.course,"PROPOSAL",t)},expression:"course.PROPOSAL"}}),e._v(" "),e.edit?e._e():o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.edit=!0}}},[e._v("编辑")]),e._v(" "),e.edit?o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.update(t)}}},[e._v("完成")]):e._e()],1),e._v(" "),o("group",{attrs:{title:"作业布置"}},[e._l(e.homework,function(t,r){return o("form-preview",{key:r,attrs:{"header-label":t.HOMEWORK_ID,"body-items":e.homework_info[r]}})}),e._v(" "),o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.arrange(t)}}},[e._v("布置作业")])],2)],1)},E=[],v={render:m,staticRenderFns:E},O=v,_=o("C7Lr"),p=_(h,O,!1,null,null,null);t.default=p.exports}});
//# sourceMappingURL=24.f60d35e9f5d3ad5dc8f8.js.map